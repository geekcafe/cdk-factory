{
  "cdk": {
    "parameters": [
      {
        "placeholder": "{{WORKLOAD_NAME}}",
        "env_var_name": "CDK_WORKLOAD_NAME",
        "cdk_parameter_name": "WorkloadName"
      },
      {
        "placeholder": "{{AWS_ACCOUNT}}",
        "env_var_name": "AWS_ACCOUNT_NUMBER",
        "cdk_parameter_name": "AccountNumber"
      },
      {
        "placeholder": "{{ENVIRONMENT}}",
        "env_var_name": "ENVIRONMENT",
        "cdk_parameter_name": "Environment"
      },
      {
        "placeholder": "{{DOMAIN}}",
        "env_var_name": "RUM_DOMAIN",
        "cdk_parameter_name": "Domain"
      },
      {
        "placeholder": "{{COGNITO_IDENTITY_POOL_ID}}",
        "env_var_name": "COGNITO_IDENTITY_POOL_ID",
        "cdk_parameter_name": "CognitoIdentityPoolId"
      }
    ]
  },
  "workload": {
    "name": "{{WORKLOAD_NAME}}",
    "description": "RUM monitoring with existing Cognito integration",
    "stacks": [
      {
        "name": "rum-monitor",
        "module": "rum_stack",
        "enabled": true,
        "rum": {
          "name": "{{WORKLOAD_NAME}}-monitor",
          "domain": "{{DOMAIN}}",
          "domain_list": ["{{DOMAIN}}", "www.{{DOMAIN}}"],
          "allow_cookies": true,
          "enable_xray": true,
          "session_sample_rate": 0.2,
          "telemetries": ["errors", "performance", "http"],
          "cw_log_enabled": true,
          "custom_events_enabled": true,
          "cognito_identity_pool_id": "{{COGNITO_IDENTITY_POOL_ID}}",
          "create_cognito_identity_pool": false,
          "create_cognito_user_pool": false,
          "excluded_pages": ["/admin/*", "/internal/*"],
          "favorite_pages": ["/", "/dashboard", "/profile"],
          "ssm_exports": {
            "app_monitor_name": "/{{WORKLOAD_NAME}}/rum/app-monitor-name",
            "app_monitor_id": "/{{WORKLOAD_NAME}}/rum/app-monitor-id"
          },
          "ssm_imports": {
            "cognito_identity_pool_id": "auto"
          },
          "tags": {
            "Environment": "{{ENVIRONMENT}}",
            "Application": "{{WORKLOAD_NAME}}",
            "MonitoringType": "RUM"
          }
        }
      }
    ],
    "deployments": [
      {
        "name": "prod",
        "environment": "{{ENVIRONMENT}}",
        "account": "{{AWS_ACCOUNT}}",
        "region": "us-east-1",
        "mode": "stack",
        "stacks": [
          "rum-monitor"
        ],
        "enabled": true
      }
    ]
  }
}
